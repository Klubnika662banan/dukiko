window.isMobile = !1;
if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
   window.isMobile = !0
}

function t_throttle(fn, threshhold, scope) {
   var last;
   var deferTimer;
   threshhold || (threshhold = 250);
   return function () {
      var context = scope || this;
      var now = +new Date();
      var args = arguments;
      if (last && now < last + threshhold) {
         clearTimeout(deferTimer);
         deferTimer = setTimeout(function () {
            last = now;
            fn.apply(context, args)
         }, threshhold)
      } else {
         last = now;
         fn.apply(context, args)
      }
   }
}

function t451_initMenu(recid) {
   var rec = document.getElementById('rec' + recid);
   if (!rec) return;
   var burgerList = rec.querySelectorAll('.t451 .t-menuburger');
   var menu = rec.querySelector('.t451m');
   var menuBlock = rec.querySelector('.t451');
   var overlay = rec.querySelector('.t451m__overlay');
   var links = rec.querySelectorAll('.t-menu__link-item');
   Array.prototype.forEach.call(burgerList, function (burger) {
      burger.addEventListener('click', function (e) {
         e.preventDefault();
         t451_closeMenu(menu, overlay);
         t451_showMenu(menu, overlay);
         t451_checkSize(menu)
      })
   });
   if (menu) {
      menu.click(function (e) {
         t451_closeMenu(menu, overlay);
         t451_showMenu(menu, overlay);
         t451_checkSize(menu);
         e.preventDefault()
      })
   }
   if (menuBlock) {
      menuBlock.addEventListener('clickedAnchorInTooltipMenu', function () {
         t451_closeMenu(menu, overlay)
      })
   }
   rec.addEventListener('click', function (e) {
      if (window.innerWidth > 980) return;
      var submenuClassList = ['.t451__link-item_submenu', '.t966__tm-link', '.t978__tm-link', '.t978__menu-link_hook'];
      var isContainsSubmenuClass = submenuClassList.some(function (className) {
         return e.target.closest(className)
      });
      if (!isContainsSubmenuClass) return;
      setTimeout(function () {
         t451_checkSize(menu)
      }, 100)
   });
   window.addEventListener('resize', function () {
      t451_checkSize(menu)
   });
   menu.addEventListener('menuOverflow', function () {
      t451_checkSize(menu)
   });
   var navLinks = rec.querySelectorAll('.t451 a.t-menu__link-item[href*="#"], .t451 a.t-menusub__link-item[href*="#"]');
   navLinks = Array.prototype.filter.call(navLinks, function (navLink) {
      return !navLink.classList.contains('tooltipstered')
   });
   if (navLinks.length > 0) {
      t_onFuncLoad('t_menu__updateActiveLinks', function () {
         t_menu__updateActiveLinks(navLinks, '.t451')
      })
   }
   t_onFuncLoad('t_menu__highlightActiveLinks', function () {
      t_menu__highlightActiveLinks('.t451m__menu a')
   });
   document.addEventListener('click', function (e) {
      if (e.target.closest('.t451m__overlay, .t451m__close, a[href*="#"]:not(.tooltipstered):not(.t794__tm-link):not(.t978__tm-link):not(.t966__tm-link):not(.t978__menu-link_hook)')) {
         t451_closeMenu(menu, overlay)
      }
   });
   document.addEventListener('keydown', function (e) {
      if (e.keyCode === 27) {
         t451_closeMenu(menu, overlay)
      }
   })
}

function t451_showMenu(menu, overlay) {
   if (!menu) return;
   document.body.classList.add('t451__body_menushowed');
   menu.classList.add('t451m__menu_show');
   if (overlay) overlay.classList.add('t451m__menu_show')
}

function t451_closeMenu(menu, overlay) {
   document.body.classList.remove('t451__body_menushowed');
   if (menu) menu.classList.remove('t451m__menu_show');
   if (overlay) overlay.classList.remove('t451m__menu_show')
}

function t451_checkSize(menu) {
   if (!menu) return;
   var menuTop = menu.querySelector('.t451m__top');
   var menuRight = menu.querySelector('.t451m__rightside');
   var menuContainer = menu.querySelector('.t451m__container');
   var menuTopHeight = menuTop ? menuTop.offsetHeight : 0;
   var menuRightHeight = menuRight ? menuRight.offsetHeight : 0;
   var windowPadding = 80;
   if (menuTopHeight + menuRightHeight + windowPadding > window.innerHeight) {
      menu.classList.add('t451m__overflowed');
      if (menuContainer) menuContainer.style.height = 'auto'
   } else {
      menu.classList.remove('t451m__overflowed');
      if (menuContainer) menuContainer.style.height = ''
   }
}

function t451_appearMenu(recid) {
   var rec = document.getElementById('rec' + recid);
   var burger = rec ? rec.querySelector('.t451__panel') : null;
   if (!burger) return;
   var burgerAppearOffset = burger ? burger.getAttribute('data-appearoffset') : '';
   if (burgerAppearOffset) burgerAppearOffset = t451_appearMenuParseNumber(burgerAppearOffset);
   if (window.pageYOffset >= burgerAppearOffset) {
      if (burger.classList.contains('t451__beforeready')) {
         burger.classList.remove('t451__beforeready')
      }
   } else {
      burger.classList.add('t451__beforeready')
   }
}

function t451_appearMenuParseNumber(string) {
   if (string.indexOf('vh') > -1) {
      string = Math.floor((window.innerHeight * (parseInt(string, 10) / 100)))
   }
   return parseInt(string, 10)
}

function t268_init(recId) {
   var rec = document.getElementById('rec' + recId);
   var container = rec.querySelector('.t268');
   t268_setHeight(recId);
   window.addEventListener('resize', function () {
      t268_setHeight(recId)
   });
   if (typeof jQuery !== 'undefined') {
      $(container).on('displayChanged', function () {
         t268_setHeight(recId)
      })
   } else {
      container.addEventListener('displayChanged', function () {
         t268_setHeight(recId)
      })
   }
}

function t268_setHeight(recId) {
   var rec = document.getElementById('rec' + recId);
   if (!rec) return;
   var container = rec.querySelector('.t268');
   if (!container) return;
   var colRight = rec.querySelector('.t268__col-right');
   var colLeft = rec.querySelector('.t268__col-left');
   var colStyle = getComputedStyle(colRight, null);
   var colPaddingTop = parseInt(colStyle.paddingTop) || 0;
   var colPaddingBottom = parseInt(colStyle.paddingBottom) || 0;
   var colHeight = colRight.clientHeight - (colPaddingTop + colPaddingBottom);
   colLeft.style.height = colHeight + 'px'
}

function t570_init(recid) {
   if (window.innerWidth > 750) {
      t570_setMapHeight(recid);
      window.onload = function () {
         t570_setMapHeight(recid)
      };
      window.addEventListener('resize', function () {
         t570_setMapHeight(recid)
      })
   }
}

function t570_setMapHeight(recid) {
   var rec = document.querySelector('#rec' + recid);
   if (!rec) return;
   var mapElement = rec.querySelector('.t-map');
   var textElement = rec.querySelector('.t570__col_text');
   if (!mapElement || !textElement) return;
   var paddingTop = parseInt(textElement.style.paddingTop, 10) || 0;
   var paddingBottom = parseInt(textElement.style.paddingBottom, 10) || 0;
   var textHeight = textElement.clientHeight - (paddingTop + paddingBottom);
   mapElement.style.height = textHeight + 'px';
   var event = document.createEvent('HTMLEvents');
   event.initEvent('sizechange', !0, !1);
   mapElement.dispatchEvent(event)
}